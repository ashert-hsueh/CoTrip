# CoTrip 账本模块使用指南

## 🎯 快速入门

### 1. 启动服务

#### 方法一：使用启动脚本（推荐）

**启动后端服务：**
```bash
# Windows
python start_backend.py

# macOS/Linux
chmod +x start_backend.py
./start_backend.py
```

**启动前端服务：**
```bash
# Windows
start_frontend.bat

# macOS/Linux
cd frontend && npm run dev
```

#### 方法二：手动启动

**启动后端：**
```bash
cd backend
pip install fastapi uvicorn sqlalchemy passlib python-multipart
python main.py
```

**启动前端：**
```bash
cd frontend
npm install
npm run dev
```

### 2. 访问应用

在浏览器中打开 `http://localhost:5173`

## 📖 功能使用指南

### 1. 创建账本

1. 点击导航栏中的"账本管理"
2. 点击"创建账本"按钮
3. 输入账本名称（如："三亚旅行账本"）
4. （可选）关联旅行计划
5. 点击"创建"

### 2. 邀请成员

1. 进入账本详情页面
2. 点击"添加成员"按钮
3. 输入要邀请的成员邮箱
4. 点击"添加"

**注意：** 当前版本需要手动输入用户ID，完整版将支持通过邮箱搜索用户。

### 3. 添加账单

1. 在账本详情页面点击"添加账单"
2. 选择账单类型（住宿/餐饮/交通/门票/其他）
3. 输入金额（元）
4. 选择付款人
5. 选择参与者（可多选）
6. （可选）添加备注
7. 选择发生时间
8. 点击"添加账单"

### 4. 管理账单

#### 编辑账单
1. 在账单列表中找到要编辑的账单
2. 点击账单右侧的编辑图标
3. 修改账单信息
4. 点击"保存修改"

#### 删除账单
1. 在账单列表中找到要删除的账单
2. 点击账单右侧的删除图标
3. 确认删除操作

### 5. 查看统计

#### 账本概览
- 在账本列表页可以看到所有账本的总支出和成员数量
- 点击账本卡片进入详情页

#### 详细统计
在账本详情页顶部可以看到：
- 总支出金额
- 成员数量
- 账单数量

#### 账单筛选
使用筛选器可以按类型查看特定类型的账单。

## 💡 使用技巧

### 1. 账单类型建议

- **住宿**: 酒店、民宿、青旅等住宿费用
- **餐饮**: 吃饭、饮料、零食等餐饮费用
- **交通**: 飞机、高铁、出租车、地铁等交通费用
- **门票**: 景点门票、演出门票等
- **其他**: 购物、纪念品、保险等其他费用

### 2. 成员管理

- 只有账本创建者可以删除账本和移除成员
- 所有成员都可以添加、编辑和删除账单
- 建议每个旅行创建一个独立的账本

### 3. 金额管理

- 系统支持精确到分的金额记录
- 建议使用实际支付的准确金额
- 可以添加备注说明费用详情

### 4. 最佳实践

1. **及时记录**: 消费后立即记录，避免遗忘
2. **详细描述**: 添加备注说明消费详情
3. **多人核对**: 定期核对账单，确保准确性
4. **分类清晰**: 正确选择账单类型，方便统计

## 🔧 常见操作

### 修改账本名称

1. 进入账本详情页
2. 点击账本名称右侧的"编辑名称"
3. 修改名称后按回车保存

### 移除成员

1. 进入账本详情页
2. 在成员列表中找到要移除的成员
3. 点击成员卡片上的删除按钮
4. 确认移除操作

### 查看账单详情

- 点击时间线上的账单卡片查看完整信息
- 鼠标悬停可以看到更多细节

## 📱 移动端使用

### 响应式设计
- 支持手机、平板和桌面设备
- 触摸友好的交互界面
- 自适应布局

### 移动端优化
- 简化的导航菜单
- 优化的表单输入
- 手势操作支持

## 🎨 界面说明

### 颜色含义

- **橙色 (#FFA939)**: 主色调，用于主要按钮和强调
- **蓝色 (#70CDE5)**: 用于标签和状态标识
- **红色 (#FF6B6B)**: 用于显示金额和警告
- **浅米色 (#F9F3EE)**: 页面背景色

### 图标说明

- 📋 账本列表
- ➕ 创建新项
- ✏️ 编辑
- 🗑️ 删除
- 👥 成员管理
- 💰 金额相关
- ⏰ 时间相关

## 🔐 安全提示

### 数据安全
- 所有数据存储在本地SQLite数据库中
- 建议定期备份数据库文件
- 生产环境需要配置适当的数据库权限

### 权限注意
- 不要随意邀请陌生人加入账本
- 定期检查账本成员列表
- 及时移除不再参与的成员

## 🚀 高级功能

### 1. 旅行计划关联

账本可以关联到特定的旅行计划，方便在旅行期间集中管理费用。

### 2. 多账本管理

支持创建多个账本，每个账本独立管理：
- 家庭旅行账本
- 朋友聚会账本
- 公司出差账本
- 日常开销账本

### 3. 数据导出（规划中）

未来版本将支持：
- 导出Excel/CSV格式
- 生成消费报告
- 数据可视化分析

## 💬 问题反馈

### 常见问题

**Q: 如何修改账单的付款人？**
A: 点击账单的编辑按钮，重新选择付款人即可。

**Q: 我可以删除其他人添加的账单吗？**
A: 是的，所有成员都可以编辑和删除账单。

**Q: 如何查看每个成员的消费统计？**
A: 当前版本在账本详情页显示总统计，未来将添加个人消费统计功能。

### 反馈渠道

如有问题或建议：
1. 提交Issue到项目仓库
2. 联系开发团队
3. 查看项目文档

## 📞 技术支持

### 联系方式

- **项目主页**: [CoTrip GitHub Repository]
- **文档地址**: [CoTrip Documentation]
- **社区支持**: [CoTrip Community]

### 技术栈

- **前端**: Vue 3 + TypeScript + Element Plus
- **后端**: FastAPI + Python + SQLAlchemy
- **数据库**: SQLite
- **认证**: JWT Token

---

**版本**: 1.0.0
**最后更新**: 2024
**© 2024 CoTrip Team**
